all:
COMMON = $(BASEDIR)/common
CLIENT = $(BASEDIR)/client
SERVER = $(BASEDIR)/server

FLAGS_SDL = $(shell sdl-config --cflags)
LIBS_SDL = $(shell sdl-config --libs)

CXXFLAGS += -Wall -fno-rtti -g
LDFLAGS += $(CXXFLAGS)
CXXFLAGS += $(FLAGS_SDL)
LIBS = $(LIBS_SDL)

MACHINE = $(shell uname -s)
ifeq ($(MACHINE),)
MACHINE = Windows
endif

H_GL	= $(CLIENT)/compat_gl.h
H_SDL	= $(COMMON)/compat_sdl.h

H_COMMONSDL	= $(COMMON)/CommonSDL.hpp
H_LMEXCEPTION	= $(COMMON)/LMException.hpp

H_CLIENTNETWORK		= $(CLIENT)/ClientNetwork.hpp
H_CLIENTSDL		= $(CLIENT)/ClientSDL.hpp
H_GAMECONTROLLER	= $(CLIENT)/GameController.hpp
H_GAMEWINDOW		= $(CLIENT)/GameWindow.hpp

H_CLIENTSDL		+= $(H_COMMONSDL)
H_GAMEWINDOW		+= $(H_SDL)
H_GAMECONTROLLER	+= $(H_GAMEWINDOW) $(H_CLIENTNETWORK)
